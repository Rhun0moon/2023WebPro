<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>23.01.27, Todo List 만들기 (+ 할 일 추가 기능)</title>
    <style>
        ul{ padding: 5px;}
        ul li{ 
            list-style: none;
            margin: 10px;
        }
        li span{ 
            display: inline-block; 
            width: 200px; height: 40px;
        }
    </style>
</head>
<body>
    <!-- 주말 과제 : HTNL, CSS, JS를 이용해서 TODO-LIST 구현 -->
    <div id="container">
        <h1>할 일 목록</h1>
        <p>
            할 일 <input type="text" id="newWork">
            <button id="addBtn">추가</button>
        </p>
        <div id="content">
            <ul id="list-area"> </ul>
        </div>
    </div>

    <script>
        var todoList = [
            { "no": 1, "todo": "<메건> 영화보기", "done": true },
            { "no": 2, "todo": "주말과제하기", "done": false },
            { "no": 3, "todo": "친구 만나기", "done": false },
            { "no": 4, "todo": "자바 공부하기", "done": false }
        ];

        var newLiStr = "";
        for(var i=0; i<todoList.length; i++){
            var todo = todoList[i];
            var liTempStr = `
                <li>
                    <input type="checkbox">
                    <span>| ${todo.todo} |</span>
                    <button class="done">삭제</button>
                </li>
            `;
            newLiStr += liTempStr;
        }
        // console.log(newLiStr);
        document.querySelector("#list-area").innerHTML = newLiStr;
        
        // addBtn을 클릭하면 newWork의 내용이 todolist에 추가되도록 한다.
        var addBtn = document.querySelector("#addBtn");
        var newWork = document.querySelector("#newWork");
        addBtn.onclick = function(event) {
            // 1. todoList 배열에 먼저 추가.
            var newWorkValue = newWork.value;
            todoList.push({ "no": todoList.length+1, "todo": newWork.value, "done": false });
            //console.log(todoList);
            
            // 2. todoList 배열의 내용을 화면에 보여지게 한다.
            newLiStr = "";
            for(var i=0; i<todoList.length; i++){
                var todo = todoList[i];
                var liTempStr = `
                    <li>
                        <input type="checkbox">
                        <span>| ${todo.todo} |</span>
                        <button>삭제</button>
                    </li>
                `;
                newLiStr += liTempStr;
            }
            document.querySelector("#list-area").innerHTML = newLiStr;
        }
    </script>
</body>
</html>